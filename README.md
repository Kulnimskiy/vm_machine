# Клиент-серверное приложение: Менеджер виртуальных машин

## Описание проекта

Этот проект представляет собой консольное клиент-серверное приложение для управления виртуальными машинами (ВМ) с 
использованием asyncio и сокетов. Сервер управляет подключенными ВМ, обрабатывает команды от клиентов и 
взаимодействует с базой данных PostgreSQL с использованием библиотеки Asyncpg.

## Функциональные возможности

### Виртуальная машина (клиент)
Каждая виртуальная машина обладает следующими характеристиками:
- **Уникальный идентификатор (ID)**
- **Объем выделенной RAM**
- **Количество выделенных CPU**
- **Объем памяти жесткого диска**
- **Уникальный идентификатор жесткого диска (ID)**

### Сервер
Сервер выполняет следующие функции:
- Принимает подключения от клиентов (ВМ)
- Реализует аутентификацию клиентов
- Добавляет новые виртуальные машины в базу данных
- Выводит список всех подключенных виртуальных машин с их параметрами
- Выводит список всех авторизованных виртуальных машин с их параметрами
- Выводит список всех когда-либо подключаемых виртуальных машин с их параметрами
- Обрабатывает команду выхода из авторизованной ВМ
- Обновляет данные в авторизованной ВМ
- Выводит список всех жестких дисков с их параметрами, включая привязку к ВМ

## Технологии
- **Python** (asyncio, socket, asyncpg)
- **PostgreSQL** (для хранения информации о виртуальных машинах и жестких дисках)
- **Docker** (для развертывания базы данных и сервера)

## Установка и запуск
### 1. Клонирование репозитория
```sh
git clone <репозиторий>
cd <папка проекта>
```

### 2. Настройка базы данных (PostgreSQL в Docker)
```sh
docker-compose up -d
```

### 3. Установка зависимостей
```sh
poetry install
```

### 4. Запуск сервера
```sh
python server.py
```

### 5. Запуск клиента (виртуальная машина)
```sh
python client.py
```

## Структура проекта
```
vm_manager/
│── server.py         # Серверная часть
│── client.py         # Клиентская часть (ВМ)
│── database.py       # Работа с базой данных
│── config.py         # Конфигурационные параметры
│── docker-compose.yml # Конфигурация Docker
│── requirements.txt  # Список зависимостей
│── README.md         # Описание проекта
```

## API команд сервера
| Команда | Описание |
|---------|----------|
| `list_connected` | Выводит список всех подключенных ВМ |
| `list_authorized` | Выводит список всех авторизованных ВМ |
| `list_all` | Выводит список всех когда-либо подключенных ВМ |
| `logout <ID>` | Выходит из авторизованной ВМ |
| `update_vm <ID> <params>` | Обновляет данные ВМ |
| `list_disks` | Выводит список всех жестких дисков |

## Видео демонстрация
(Ссылка на видео работы приложения)


